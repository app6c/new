// Utilitário para gerenciar estados emocionais de dor e recurso

// Textos de Estado de Dor para cada padrão
export const TEXTOS_DOR_CRIATIVO = {
  pessoal: `O padrão CRIATIVO em estado de dor na área pessoal leva a uma hipersensibilidade emocional, autocrítica intensa e dificuldade em lidar com críticas. Você pode se sentir incompreendido, desvalorizado e com emoções intensas que são difíceis de gerenciar. Há uma tendência à dramatização e ao vitimismo, buscando validação externa para seu sofrimento.`,
  
  relacionamentos: `O padrão CRIATIVO em estado de dor na área de relacionamentos manifesta-se como dependência emocional e medo de abandono. Você tende a se sacrificar pelos outros, buscar aprovação constantemente e ter dificuldade em estabelecer limites saudáveis. Os relacionamentos podem se tornar dramas emocionais intensos, onde você se sente incompreendido e não valorizado.`,
  
  profissional: `O padrão CRIATIVO em estado de dor na área profissional causa autossabotagem, perfeccionismo paralisante e medo de exposição. Você pode sentir que suas ideias nunca são boas o suficiente e temer julgamentos. Há dificuldade em finalizar projetos devido à autocrítica excessiva, e a comparação constante com outros pode bloquear sua criatividade natural.`
};

export const TEXTOS_DOR_CONECTIVO = {
  pessoal: `O padrão CONECTIVO em estado de dor na área pessoal manifesta-se como um sentimento profundo de insegurança e medo da solidão. Você tende a anular suas próprias necessidades, evitar conflitos a qualquer custo e buscar validação externa constante. Existe uma dificuldade significativa em dizer "não" e estabelecer limites saudáveis para si mesmo.`,
  
  relacionamentos: `O padrão CONECTIVO em estado de dor na área de relacionamentos expressa-se como codependência emocional e medo intenso de rejeição. Você pode se envolver em relacionamentos desequilibrados onde dá muito mais do que recebe, tem dificuldade em expressar necessidades próprias e pode permanecer em relações prejudiciais por medo da solidão.`,
  
  profissional: `O padrão CONECTIVO em estado de dor na área profissional manifesta-se como uma dificuldade em tomar decisões autônomas e assumir posições de autoridade. Você tende a priorizar harmonia sobre produtividade, pode sentir ansiedade ao lidar com tarefas individuais e busca constantemente por aprovação e consenso, mesmo quando isso compromete a eficiência.`
};

export const TEXTOS_DOR_FORTE = {
  pessoal: `O padrão FORTE em estado de dor na área pessoal manifesta-se como rigidez emocional e dificuldade em demonstrar vulnerabilidade. Você tende a reprimir emoções, tem dificuldade em pedir ajuda e pode desenvolver problemas físicos devido à tensão acumulada. Há uma resistência a mudanças e um forte apego a rotinas e estruturas.`,
  
  relacionamentos: `O padrão FORTE em estado de dor na área de relacionamentos expressa-se como controle excessivo e dificuldade em confiar nos outros. Você pode ser percebido como inflexível, crítico e intimidador. Há uma tendência a manter distância emocional e evitar intimidade verdadeira por medo de perder o controle ou ser decepcionado.`,
  
  profissional: `O padrão FORTE em estado de dor na área profissional manifesta-se como perfeccionismo rígido e microgerenciamento. Você pode ter dificuldade em delegar, resistência a novas ideias e métodos, e tende a se sobrecarregar por não confiar na competência alheia. O ambiente de trabalho pode se tornar tenso e pouco colaborativo sob sua influência.`
};

export const TEXTOS_DOR_LIDER = {
  pessoal: `O padrão LÍDER em estado de dor na área pessoal manifesta-se como uma pressão constante por desempenho e medo do fracasso. Você tende a se definir exclusivamente por suas conquistas, tem dificuldade em relaxar sem culpa e pode desenvolver um senso de identidade frágil baseado apenas em realizações externas.`,
  
  relacionamentos: `O padrão LÍDER em estado de dor na área de relacionamentos expressa-se como competitividade e necessidade de controle. Você pode transformar relacionamentos em hierarquias, ter dificuldade em mostrar vulnerabilidade e confundir respeito com admiração. Há uma tendência a valorizar pessoas pelo status ou utilidade, não pela conexão emocional.`,
  
  profissional: `O padrão LÍDER em estado de dor na área profissional manifesta-se como workaholism e ambição desmedida. Você pode sacrificar saúde e relacionamentos pelo sucesso, ter dificuldade em delegar por perfeccionismo e desenvolver ansiedade constante relacionada a desempenho e reconhecimento. Existe um medo persistente de ser ultrapassado ou tornar-se irrelevante.`
};

export const TEXTOS_DOR_COMPETITIVO = {
  pessoal: `O padrão COMPETITIVO em estado de dor na área pessoal manifesta-se como uma comparação constante com os outros e insatisfação crônica. Você tende a se cobrar excessivamente, tem dificuldade em celebrar conquistas e pode desenvolver ansiedade por sempre buscar ser melhor, mais rápido ou mais bem-sucedido em todos os aspectos da vida.`,
  
  relacionamentos: `O padrão COMPETITIVO em estado de dor na área de relacionamentos expressa-se como rivalidade e dificuldade em celebrar o sucesso alheio. Você pode transformar amizades em competições, ter ciúmes frequentes e buscar constantemente provar seu valor. As relações tornam-se campos de prova onde você precisa se destacar ou dominar.`,
  
  profissional: `O padrão COMPETITIVO em estado de dor na área profissional manifesta-se como uma obsessão por resultados e status. Você tende a trabalhar compulsivamente, tem dificuldade com trabalho em equipe genuíno e pode desenvolver burnout por nunca sentir que fez o suficiente. Há uma tendência a sacrificar ética e bem-estar pela vitória.`
};

// Textos de Estado de Recurso para cada padrão
export const TEXTOS_RECURSO_CRIATIVO = {
  pessoal: `O padrão CRIATIVO em estado de recurso na área pessoal manifesta-se como expressão emocional autêntica e autocompaixão. Você desenvolve sensibilidade equilibrada, capacidade de processar emoções profundas e uma conexão genuína consigo mesmo. Sua intuição aguçada permite auto-conhecimento e transformação pessoal contínua.`,
  
  relacionamentos: `O padrão CRIATIVO em estado de recurso na área de relacionamentos expressa-se como empatia profunda e conexões autênticas. Você tem habilidade para compreender nuances emocionais, criar intimidade genuína e inspirar outros com sua autenticidade. Seus relacionamentos são caracterizados por profundidade emocional e aceitação mútua.`,
  
  profissional: `O padrão CRIATIVO em estado de recurso na área profissional manifesta-se como inovação e expressão única. Você possui pensamento original, capacidade de ver possibilidades onde outros não veem e coragem para seguir caminhos não convencionais. Sua criatividade traz soluções inovadoras e inspira transformação nos ambientes de trabalho.`
};

export const TEXTOS_RECURSO_CONECTIVO = {
  pessoal: `O padrão CONECTIVO em estado de recurso na área pessoal manifesta-se como autoaceitação e equilíbrio emocional. Você desenvolve a capacidade de atender suas próprias necessidades enquanto permanece aberto aos outros, cultiva gentileza consigo mesmo e estabelece limites saudáveis sem culpa ou ansiedade.`,
  
  relacionamentos: `O padrão CONECTIVO em estado de recurso na área de relacionamentos expressa-se como conexões autênticas e reciprocidade. Você tem habilidade para construir relacionamentos baseados em respeito mútuo, comunicação honesta e apoio verdadeiro. Sua presença cria ambientes de confiança e compreensão onde todos se sentem acolhidos.`,
  
  profissional: `O padrão CONECTIVO em estado de recurso na área profissional manifesta-se como colaboração eficaz e inteligência emocional. Você possui capacidade de construir equipes coesas, facilitar comunicação entre diferentes pessoas e criar ambientes de trabalho harmoniosos e produtivos. Sua habilidade natural para entender dinâmicas de grupo é um catalisador para projetos bem-sucedidos.`
};

export const TEXTOS_RECURSO_FORTE = {
  pessoal: `O padrão FORTE em estado de recurso na área pessoal manifesta-se como resiliência e estabilidade interna. Você desenvolve disciplina para criar hábitos saudáveis, capacidade de lidar com desafios sem ser abalado e uma base sólida que permite flexibilidade sem perder estrutura. Sua força interior se torna um alicerce para crescimento pessoal.`,
  
  relacionamentos: `O padrão FORTE em estado de recurso na área de relacionamentos expressa-se como lealdade e presença confiável. Você tem habilidade para oferecer apoio consistente, manter-se presente em momentos difíceis e construir relacionamentos duradouros baseados em confiança mútua. Sua estabilidade emocional proporciona segurança às pessoas próximas a você.`,
  
  profissional: `O padrão FORTE em estado de recurso na área profissional manifesta-se como determinação e comprometimento exemplar. Você possui capacidade de enfrentar obstáculos com perseverança, manter o foco mesmo sob pressão e executar projetos até sua conclusão com qualidade consistente. Sua ética de trabalho torna-se referência e inspira confiança nos colegas.`
};

export const TEXTOS_RECURSO_LIDER = {
  pessoal: `O padrão LÍDER em estado de recurso na área pessoal manifesta-se como autoconfiança equilibrada e propósito claro. Você desenvolve capacidade de traçar metas significativas, assumir responsabilidade pelo próprio crescimento e inspirar a si mesmo através de desafios. Seu senso de propósito transcende conquistas externas e abraça valores profundos.`,
  
  relacionamentos: `O padrão LÍDER em estado de recurso na área de relacionamentos expressa-se como mentoria e capacidade de elevar os outros. Você tem habilidade para reconhecer potencial nas pessoas, incentivar o crescimento de quem está ao seu redor e criar relacionamentos baseados em respeito mútuo e admiração autêntica. Sua influência positiva inspira transformação nos outros.`,
  
  profissional: `O padrão LÍDER em estado de recurso na área profissional manifesta-se como visão estratégica e liderança inspiradora. Você possui capacidade de visualizar possibilidades futuras, mobilizar pessoas em direção a objetivos comuns e tomar decisões difíceis com sabedoria e consideração. Sua presença catalisa excelência e inovação no ambiente de trabalho.`
};

export const TEXTOS_RECURSO_COMPETITIVO = {
  pessoal: `O padrão COMPETITIVO em estado de recurso na área pessoal manifesta-se como autodisciplina e busca por excelência pessoal. Você desenvolve capacidade de estabelecer e alcançar metas desafiadoras, superar seus próprios limites e celebrar cada avanço no caminho. Seu impulso por melhoria contínua torna-se uma força positiva para evolução pessoal.`,
  
  relacionamentos: `O padrão COMPETITIVO em estado de recurso na área de relacionamentos expressa-se como admiração genuína e capacidade de elevar os outros. Você tem habilidade para celebrar as conquistas alheias sem comparação, inspirar os outros a darem o melhor de si e criar relações onde todos se beneficiam do crescimento mútuo. Sua energia impulsiona todos ao seu redor.`,
  
  profissional: `O padrão COMPETITIVO em estado de recurso na área profissional manifesta-se como busca por excelência e capacidade de superar desafios. Você possui determinação para alcançar resultados extraordinários, habilidade para trabalhar eficientemente sob pressão e visão para identificar oportunidades de melhoria. Sua energia e foco elevam o padrão de qualidade de toda a equipe.`
};

// Função para gerar texto combinado de estados emocionais com base nos padrões dominantes
export function gerarTextosCombinados(patterns, priorityArea) {
  // Verifica se temos padrões válidos
  if (!patterns || patterns.length === 0) {
    return {
      traco1Nome: "",
      traco1Dor: { pessoal: "", relacionamentos: "", profissional: "" },
      traco1Recurso: { pessoal: "", relacionamentos: "", profissional: "" }
    };
  }

  // Mapear área prioritária para formato usado nas propriedades
  const areaMap = {
    'health': 'pessoal',
    'personal': 'pessoal',
    'relationships': 'relacionamentos',
    'professional': 'profissional'
  };
  
  const areaNormalizada = areaMap[priorityArea] || 'pessoal';
  
  // Determinar quais textos usar para cada padrão
  function getTextosForPattern(patternName) {
    const patternKey = patternName.toLowerCase();
    
    let textoDor = {};
    let textoRecurso = {};
    
    if (patternKey.includes('criativo')) {
      textoDor = TEXTOS_DOR_CRIATIVO;
      textoRecurso = TEXTOS_RECURSO_CRIATIVO;
    } else if (patternKey.includes('conectivo')) {
      textoDor = TEXTOS_DOR_CONECTIVO;
      textoRecurso = TEXTOS_RECURSO_CONECTIVO;
    } else if (patternKey.includes('forte')) {
      textoDor = TEXTOS_DOR_FORTE;
      textoRecurso = TEXTOS_RECURSO_FORTE;
    } else if (patternKey.includes('lider') || patternKey.includes('líder')) {
      textoDor = TEXTOS_DOR_LIDER;
      textoRecurso = TEXTOS_RECURSO_LIDER;
    } else if (patternKey.includes('competitivo')) {
      textoDor = TEXTOS_DOR_COMPETITIVO;
      textoRecurso = TEXTOS_RECURSO_COMPETITIVO;
    }
    
    return { textoDor, textoRecurso };
  }
  
  // Inicializar textos combinados
  let textoDorCombinado = "";
  let textoRecursoCombinado = "";
  let nomesCombinados = [];
  
  // Combinar textos dos padrões que somam >50%
  patterns.forEach(pattern => {
    if (pattern.name) {
      const { textoDor, textoRecurso } = getTextosForPattern(pattern.name);
      
      if (textoDor[areaNormalizada]) {
        textoDorCombinado += textoDor[areaNormalizada] + "\n\n";
      }
      
      if (textoRecurso[areaNormalizada]) {
        textoRecursoCombinado += textoRecurso[areaNormalizada] + "\n\n";
      }
      
      nomesCombinados.push(pattern.name);
    }
  });
  
  // Criar objeto de retorno no formato esperado
  const combinedDor = {
    pessoal: areaNormalizada === 'pessoal' ? textoDorCombinado : "",
    relacionamentos: areaNormalizada === 'relacionamentos' ? textoDorCombinado : "",
    profissional: areaNormalizada === 'profissional' ? textoDorCombinado : ""
  };
  
  const combinedRecurso = {
    pessoal: areaNormalizada === 'pessoal' ? textoRecursoCombinado : "",
    relacionamentos: areaNormalizada === 'relacionamentos' ? textoRecursoCombinado : "",
    profissional: areaNormalizada === 'profissional' ? textoRecursoCombinado : ""
  };
  
  return {
    traco1Nome: nomesCombinados.join(", "),
    traco1Dor: combinedDor,
    traco1Recurso: combinedRecurso,
    priorityArea
  };
}